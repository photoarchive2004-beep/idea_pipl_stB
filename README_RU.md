# Научный конвейер идей (A–G)

Этот дистрибутив — универсальный конвейер: вы создаёте папку идеи, вставляете «сырой» текст, а дальше стадии A–G последовательно формируют структуру гипотез, собирают литературу, строят evidence-таблицу, находят пробелы/противоречия и дают итоговые оценки + улучшенные варианты идеи.

## Быстрый старт (минимум рутины)

1) **Один раз**: запустите **0_SETUP.bat**
   - создаст `.venv` и поставит зависимости
   - подготовит `config\secrets.env` (если его нет)

2) Создайте новую идею: **1_NEW_IDEA.bat**
   - откроется `idea.txt` — заполните и сохраните

3) Прогон по стадиям (обычно так):
   - **RUN_A.bat**  → структурирует идею (через ChatGPT, 2 запуска)
   - **RUN_B.bat**  → собирает корпус литературы (OpenAlex)
   - **RUN_C.bat**  → evidence-таблица (обычно через ChatGPT, 2 запуска)
   - **RUN_D.bat**  → карта пробелов/противоречий
   - **RUN_E.bat**  → «новизна/прорывность» и мосты в смежные области (есть ChatGPT-режим)
   - **RUN_F.bat**  → двойная оценка: publishability vs breakthrough (есть ChatGPT-режим)
   - **RUN_G.bat**  → генерация улучшенных вариантов идеи (есть ChatGPT-режим)

## Как устроены «ChatGPT-стадии» (A, C, E, F, G)

Если стадия пишет **ExitCode=2**, это НЕ ошибка. Это значит: «нужен ответ LLM».

Что происходит автоматически:
- PROMPT копируется в буфер обмена
- открывается нужный файл `ideas\IDEA-...\in\*.json` в Блокноте
- вы вставляете туда **ТОЛЬКО JSON-ответ** ChatGPT и сохраняете
- запускаете ту же стадию ещё раз — она завершится

## Важно для Stage B (литература)

Откройте `config\secrets.env` и вставьте ваш ключ:
- `OPENALEX_API_KEY=...`

Без ключа OpenAlex часто режет лимиты/даёт ошибки.

## Подробная справка

Смотрите **HELP_RU.md** — там простыми словами «что делает каждая стадия», какие входы/выходы и как проверять результат.

## Stage B (мульти-источник)
- Источники: OpenAlex + NCBI E-utilities.
- После RUN_B.bat сохраняется `out/stageB_summary.txt` и печатается краткая сводка.
- При недоступности одного источника стадия завершается с `DEGRADED`, а причина попадает в `out/search_log.json`.
